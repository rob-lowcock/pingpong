<div class="container">
  <div class="text-center mt-4"><%= image_tag('chopchop.png', width: '150', height: '50', alt: 'Chop Chop') %></div>
  <h1 class="text-center mt-3 mb-4">Ping Pong Tracker</h1>

  <%= form_for :match, :html => {class: 'pb-3'} do |m| %>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <div class="input-group my-2">
            <div class="input-group-addon">@</div>
            <%= m.email_field :w1, :class => 'form-control', :placeholder => 'Winner' %>
          </div>
          <div class="input-group my-2">
            <div class="input-group-addon">@</div>
            <%= m.email_field :w2, :class => 'form-control', :placeholder => 'Winner' %>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <div class="input-group my-2">
            <div class="input-group-addon">@</div>
            <%= m.email_field :l1, :class => 'form-control', :placeholder => 'Loser' %>
          </div>
          <div class="input-group my-2">
            <div class="input-group-addon">@</div>
            <%= m.email_field :l2, :class => 'form-control', :placeholder => 'Loser' %>
          </div>
        </div>
      </div>
    </div>
    <div class="row py-2">
      <div class="col text-center">
        <%= m.submit 'Submit', :class => 'btn btn-primary' %>
      </div>
    </div>
  <% end %>
  <% @matches.each do |match| %>
    <div class="row mt-3">
      <div class="col"></div>
      <div class="col-lg text-center">
        <img src="https://www.gravatar.com/avatar/<%= Digest::MD5.hexdigest(match.w1.downcase) %>?d=mm" alt="" width="48" height="48" class="rounded-circle">
        <img src="https://www.gravatar.com/avatar/<%= Digest::MD5.hexdigest(match.w2.downcase) %>?d=mm" alt="" width="48" height="48" class="rounded-circle">
        <div class="defeated">defeated</div>
        <img src="https://www.gravatar.com/avatar/<%= Digest::MD5.hexdigest(match.l1.downcase) %>?d=mm" alt="" width="48" height="48" class="rounded-circle">
        <img src="https://www.gravatar.com/avatar/<%= Digest::MD5.hexdigest(match.l2.downcase) %>?d=mm" alt="" width="48" height="48" class="rounded-circle">
      </div>
      <div class="col text-center match-date"><p class="text-muted font-italic mt-3"><%= match.created_at.strftime("#{match.created_at.day.ordinalize} %B %Y") %></p></div>
    </div>
  <% end %>
</div>